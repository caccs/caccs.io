!function(a,b){function g(b){a.extend(!0,c,b)}function h(c,d,e){function H(a){o?(S(),R(),aa(),O(a)):I()}function I(){p=d.theme?"ui":"fc",c.addClass("fc"),d.isRTL?c.addClass("fc-rtl"):c.addClass("fc-ltr"),d.theme&&c.addClass("ui-widget"),o=a("<div class='fc-content' style='position:relative'/>").prependTo(c),m=new i(g,d),n=m.render(),n&&c.prepend(n),N(d.defaultView),a(window).resize(W),M()||J()}function J(){setTimeout(function(){!t.start&&M()&&O()},0)}function K(){a(window).unbind("resize",W),m.destroy(),o.remove(),c.removeClass("fc fc-rtl ui-widget")}function L(){return 0!==k.offsetWidth}function M(){return 0!==a("body")[0].offsetWidth}function N(b){if(!t||b!=t.name){B++,ca();var d,c=t;c?((c.beforeHide||V)(),U(o,o.height()),c.element.hide()):U(o,1),o.css("overflow","hidden"),t=u[b],t?t.element.show():t=u[b]=new f[b](d=y=a("<div class='fc-view fc-view-"+b+"' style='position:absolute'/>").appendTo(o),g),c&&m.deactivateButton(c.name),m.activateButton(b),O(),o.css("overflow",""),c&&U(o,1),d||(t.afterShow||V)(),B--}}function O(a){if(L()){B++,ca(),x===b&&S();var d=!1;!t.start||a||C<t.start||C>=t.end?(t.render(C,a||0),T(!0),d=!0):t.sizeDirty?(t.clearEvents(),T(),d=!0):t.eventsDirty&&(t.clearEvents(),d=!0),t.sizeDirty=!1,t.eventsDirty=!1,X(d),v=c.outerWidth(),m.updateTitle(t.title);var e=new Date;e>=t.start&&e<t.end?m.disableButton("today"):m.enableButton("today"),B--,t.trigger("viewDisplay",k)}}function P(){R(),L()&&(S(),T(),ca(),t.clearEvents(),t.renderEvents(F),t.sizeDirty=!1)}function R(){a.each(u,function(a,b){b.sizeDirty=!0})}function S(){x=d.contentHeight?d.contentHeight:d.height?d.height-(n?n.height():0)-Q(o):Math.round(o.width()/Math.max(d.aspectRatio,.5))}function T(a){B++,t.setHeight(x,a),y&&(y.css("position","relative"),y=null),t.setWidth(o.width(),a),B--}function W(){if(!B)if(t.start){var a=++A;setTimeout(function(){a==A&&!B&&L()&&v!=(v=c.outerWidth())&&(B++,P(),t.trigger("windowResize",k),B--)},200)}else J()}function X(a){!d.lazyFetching||h(t.visStart,t.visEnd)?Y():a&&_()}function Y(){j(t.visStart,t.visEnd)}function Z(a){F=a,_()}function $(a){_(a)}function _(a){aa(),L()&&(t.clearEvents(),t.renderEvents(F,a),t.eventsDirty=!1)}function aa(){a.each(u,function(a,b){b.eventsDirty=!0})}function ba(a,c,d){t.select(a,c,d===b||d)}function ca(){t&&t.unselect()}function da(){O(-1)}function ea(){O(1)}function fa(){q(C,-1),O()}function ga(){q(C,1),O()}function ha(){C=new Date,O()}function ia(a,b,c){a instanceof Date?C=w(a):z(C,a,b,c),O()}function ja(a,c,d){a!==b&&q(C,a),c!==b&&r(C,c),d!==b&&s(C,d),O()}function ka(){return w(C)}function la(){return t}function ma(a,c){if(c===b)return d[a];"height"!=a&&"contentHeight"!=a&&"aspectRatio"!=a||(d[a]=c,P())}function na(a,b){if(d[a])return d[a].apply(b||k,Array.prototype.slice.call(arguments,2))}var g=this;g.options=d,g.render=H,g.destroy=K,g.refetchEvents=Y,g.reportEvents=Z,g.reportEventChange=$,g.rerenderEvents=_,g.changeView=N,g.select=ba,g.unselect=ca,g.prev=da,g.next=ea,g.prevYear=fa,g.nextYear=ga,g.today=ha,g.gotoDate=ia,g.incrementDate=ja,g.formatDate=function(a,b){return D(a,b,d)},g.formatDates=function(a,b,c){return E(a,b,c,d)},g.getDate=ka,g.getView=la,g.option=ma,g.trigger=na,l.call(g,d,e);var m,n,o,p,t,v,x,y,G,h=g.isFetchNeeded,j=g.fetchEvents,k=c[0],u={},A=0,B=0,C=new Date,F=[];z(C,d.year,d.month,d.date),d.droppable&&a(document).bind("dragstart",function(b,c){var e=b.target,f=a(e);if(!f.parents(".fc").length){var g=d.dropAccept;(a.isFunction(g)?g.call(e,f):f.is(g))&&(G=e,t.dragStart(G,b,c))}}).bind("dragstop",function(a,b){G&&(t.dragStop(G,a,b),G=null)})}function i(b,c){function h(){if(g=c.theme?"ui":"fc",c.header)return e=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(j("left")).append(j("center")).append(j("right")))}function i(){e.remove()}function j(d){var e=a("<td class='fc-header-"+d+"'/>"),h=c.header[d];return h&&a.each(h.split(" "),function(d){d>0&&e.append("<span class='fc-header-space'/>");var h;a.each(this.split(","),function(d,i){if("title"==i)e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),h&&h.addClass(g+"-corner-right"),h=null;else{var j;if(b[i]?j=b[i]:f[i]&&(j=function(){m.removeClass(g+"-state-hover"),b.changeView(i)}),j){var k=c.theme?Z(c.buttonIcons,i):null,l=Z(c.buttonText,i),m=a("<span class='fc-button fc-button-"+i+" "+g+"-state-default'>"+(k?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+k+"'/></span>":l)+"</span>").click(function(){m.hasClass(g+"-state-disabled")||j()}).mousedown(function(){m.not("."+g+"-state-active").not("."+g+"-state-disabled").addClass(g+"-state-down")}).mouseup(function(){m.removeClass(g+"-state-down")}).hover(function(){m.not("."+g+"-state-active").not("."+g+"-state-disabled").addClass(g+"-state-hover")},function(){m.removeClass(g+"-state-hover").removeClass(g+"-state-down")}).appendTo(e);_(m),h||m.addClass(g+"-corner-left"),h=m}}}),h&&h.addClass(g+"-corner-right")}),e}function k(a){e.find("h2").html(a)}function l(a){e.find("span.fc-button-"+a).addClass(g+"-state-active")}function m(a){e.find("span.fc-button-"+a).removeClass(g+"-state-active")}function n(a){e.find("span.fc-button-"+a).addClass(g+"-state-disabled")}function o(a){e.find("span.fc-button-"+a).removeClass(g+"-state-disabled")}var d=this;d.render=h,d.destroy=i,d.updateTitle=k,d.activateButton=l,d.deactivateButton=m,d.disableButton=n,d.enableButton=o;var g,e=a([])}function l(c,d){function u(a,b){return!n||a<n||b>o}function v(a,b){n=a,o=b,s=[];var c=++p,d=m.length;q=d;for(var e=0;e<d;e++)x(m[e],c)}function x(b,d){y(b,function(e){if(d==p){if(e){c.eventDataTransform&&(e=a.map(e,c.eventDataTransform)),b.eventDataTransform&&(e=a.map(e,b.eventDataTransform));for(var f=0;f<e.length;f++)e[f].source=b,J(e[f]);s=s.concat(e)}q--,q||i(s)}})}function y(b,d){var f,h,g=e.sourceFetchers;for(f=0;f<g.length;f++){if(!0===(h=g[f](b,n,o,d)))return;if("object"==typeof h)return void y(h,d)}var i=b.events;if(i)a.isFunction(i)?(H(),i(w(n),w(o),function(a){d(a),I()})):a.isArray(i)?d(i):d();else{if(b.url){var l=b.success,m=b.error,p=b.complete,q=a.extend({},b.data||{}),r=ea(b.startParam,c.startParam),s=ea(b.endParam,c.endParam);r&&(q[r]=Math.round(+n/1e3)),s&&(q[s]=Math.round(+o/1e3)),H(),a.ajax(a.extend({},j,b,{data:q,success:function(b){b=b||[];var c=da(l,this,arguments);a.isArray(c)&&(b=c),d(b)},error:function(){da(m,this,arguments),d()},complete:function(){da(p,this,arguments),I()}}))}else d()}}function z(a){(a=B(a))&&(q++,x(a,p))}function B(b){if(a.isFunction(b)||a.isArray(b)?b={events:b}:"string"==typeof b&&(b={url:b}),"object"==typeof b)return K(b),m.push(b),b}function C(b){m=a.grep(m,function(a){return!L(a,b)}),s=a.grep(s,function(a){return!L(a.source,b)}),i(s)}function D(a){var b,d,c=s.length,e=h().defaultEventEnd,f=a.start-a._start,g=a.end?a.end-(a._end||e(a)):0;for(b=0;b<c;b++)d=s[b],d._id==a._id&&d!=a&&(d.start=new Date(+d.start+f),a.end?d.end?d.end=new Date(+d.end+g):d.end=new Date(+e(d)+g):d.end=null,d.title=a.title,d.url=a.url,d.allDay=a.allDay,d.className=a.className,d.editable=a.editable,d.color=a.color,d.backgroundColor=a.backgroundColor,d.borderColor=a.borderColor,d.textColor=a.textColor,J(d));J(a),i(s)}function E(a,b){J(a),a.source||(b&&(l.events.push(a),a.source=l),s.push(a)),i(s)}function F(b){if(b){if(!a.isFunction(b)){var d=b+"";b=function(a){return a._id==d}}s=a.grep(s,b,!0);for(var c=0;c<m.length;c++)a.isArray(m[c].events)&&(m[c].events=a.grep(m[c].events,b,!0))}else{s=[];for(var c=0;c<m.length;c++)a.isArray(m[c].events)&&(m[c].events=[])}i(s)}function G(b){return a.isFunction(b)?a.grep(s,b):b?(b+="",a.grep(s,function(a){return a._id==b})):s}function H(){r++||g("loading",null,!0)}function I(){--r||g("loading",null,!1)}function J(a){var d=a.source||{},e=ea(d.ignoreTimezone,c.ignoreTimezone);a._id=a._id||(a.id===b?"_fc"+k++:a.id+""),a.date&&(a.start||(a.start=a.date),delete a.date),a._start=w(a.start=A(a.start,e)),a.end=A(a.end,e),a.end&&a.end<=a.start&&(a.end=null),a._end=a.end?w(a.end):null,a.allDay===b&&(a.allDay=ea(d.allDayDefault,c.allDayDefault)),a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[]}function K(a){a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[];for(var b=e.sourceNormalizers,c=0;c<b.length;c++)b[c](a)}function L(a,b){return a&&b&&M(a)==M(b)}function M(a){return("object"==typeof a?a.events||a.url:"")||a}var f=this;f.isFetchNeeded=u,f.fetchEvents=v,f.addEventSource=z,f.removeEventSource=C,f.updateEvent=D,f.renderEvent=E,f.removeEvents=F,f.clientEvents=G,f.normalizeEvent=J;for(var n,o,g=f.trigger,h=f.getView,i=f.reportEvents,l={events:[]},m=[l],p=0,q=0,r=0,s=[],t=0;t<d.length;t++)B(d[t])}function q(a,b,c){return a.setFullYear(a.getFullYear()+b),c||v(a),a}function r(a,b,c){if(+a){var d=a.getMonth()+b,e=w(a);for(e.setDate(1),e.setMonth(d),a.setMonth(d),c||v(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(a<e?1:-1))}return a}function s(a,b,c){if(+a){var d=a.getDate()+b,e=w(a);e.setHours(9),e.setDate(d),a.setDate(d),c||v(a),t(a,e)}return a}function t(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*o)}function u(a,b){return a.setMinutes(a.getMinutes()+b),a}function v(a){return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function w(a,b){return b?v(new Date(+a)):new Date(+a)}function x(){var b,a=0;do{b=new Date(1970,a++,1)}while(b.getHours());return b}function y(a,b){return Math.round((w(a,!0)-w(b,!0))/n)}function z(a,c,d,e){c!==b&&c!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(c)),d!==b&&d!=a.getMonth()&&(a.setDate(1),a.setMonth(d)),e!==b&&a.setDate(e)}function A(a,c){return"object"==typeof a?a:"number"==typeof a?new Date(1e3*a):"string"==typeof a?a.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(a)):(c===b&&(c=!0),B(a,c)||(a?new Date(a):null)):null}function B(a,b){var c=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!c)return null;var d=new Date(c[1],0,1);if(b||!c[13]){var e=new Date(c[1],0,1,9,0);c[3]&&(d.setMonth(c[3]-1),e.setMonth(c[3]-1)),c[5]&&(d.setDate(c[5]),e.setDate(c[5])),t(d,e),c[7]&&d.setHours(c[7]),c[8]&&d.setMinutes(c[8]),c[10]&&d.setSeconds(c[10]),c[12]&&d.setMilliseconds(1e3*Number("0."+c[12])),t(d,e)}else if(d.setUTCFullYear(c[1],c[3]?c[3]-1:0,c[5]||1),d.setUTCHours(c[7]||0,c[8]||0,c[10]||0,c[12]?1e3*Number("0."+c[12]):0),c[14]){var f=60*Number(c[16])+(c[18]?Number(c[18]):0);f*="-"==c[15]?1:-1,d=new Date(+d+60*f*1e3)}return d}function C(a){if("number"==typeof a)return 60*a;if("object"==typeof a)return 60*a.getHours()+a.getMinutes();var b=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(b){var c=parseInt(b[1],10);return b[3]&&(c%=12,"p"==b[3].toLowerCase().charAt(0)&&(c+=12)),60*c+(b[2]?parseInt(b[2],10):0)}}function D(a,b,c){return E(a,null,b,c)}function E(a,b,d,e){e=e||c;var h,j,k,l,f=a,g=b,i=d.length,m="";for(h=0;h<i;h++)if("'"==(j=d.charAt(h))){for(k=h+1;k<i;k++)if("'"==d.charAt(k)){f&&(m+=k==h+1?"'":d.substring(h+1,k),h=k);break}}else if("("==j){for(k=h+1;k<i;k++)if(")"==d.charAt(k)){var n=D(f,d.substring(h+1,k),e);parseInt(n.replace(/\D/,""),10)&&(m+=n),h=k;break}}else if("["==j){for(k=h+1;k<i;k++)if("]"==d.charAt(k)){var o=d.substring(h+1,k),n=D(f,o,e);n!=D(g,o,e)&&(m+=n),h=k;break}}else if("{"==j)f=b,g=a;else if("}"==j)f=a,g=b;else{for(k=i;k>h;k--)if(l=F[d.substring(h,k)]){f&&(m+=l(f,e)),h=k-1;break}k==h&&f&&(m+=j)}return m}function G(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1}function H(a){return a.end?I(a.end,a.allDay):s(w(a.start),1)}function I(a,b){return a=w(a),b||a.getHours()||a.getMinutes()?s(a,1):v(a)}function J(c,d,e){c.unbind("mouseover").mouseover(function(c){for(var g,h,i,f=c.target;f!=this;)g=f,f=f.parentNode;(h=g._fci)!==b&&(g._fci=b,i=d[h],e(i.event,i.element,i),a(c.target).trigger(c)),c.stopPropagation()})}function K(b,c,d){for(var f,e=0;e<b.length;e++)f=a(b[e]),f.width(Math.max(0,c-M(f,d)))}function L(b,c,d){for(var f,e=0;e<b.length;e++)f=a(b[e]),f.height(Math.max(0,c-Q(f,d)))}function M(a,b){return N(a)+P(a)+(b?O(a):0)}function N(b){return(parseFloat(a.css(b[0],"paddingLeft",!0))||0)+(parseFloat(a.css(b[0],"paddingRight",!0))||0)}function O(b){return(parseFloat(a.css(b[0],"marginLeft",!0))||0)+(parseFloat(a.css(b[0],"marginRight",!0))||0)}function P(b){return(parseFloat(a.css(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.css(b[0],"borderRightWidth",!0))||0)}function Q(a,b){return R(a)+T(a)+(b?S(a):0)}function R(b){return(parseFloat(a.css(b[0],"paddingTop",!0))||0)+(parseFloat(a.css(b[0],"paddingBottom",!0))||0)}function S(b){return(parseFloat(a.css(b[0],"marginTop",!0))||0)+(parseFloat(a.css(b[0],"marginBottom",!0))||0)}function T(b){return(parseFloat(a.css(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.css(b[0],"borderBottomWidth",!0))||0)}function U(a,b){b="number"==typeof b?b+"px":b,a.each(function(a,c){c.style.cssText+=";min-height:"+b+";_height:"+b})}function V(){}function W(a,b){return a-b}function X(a){return Math.max.apply(Math,a)}function Y(a){return(a<10?"0":"")+a}function Z(a,c){if(a[c]!==b)return a[c];for(var f,d=c.split(/(?=[A-Z])/),e=d.length-1;e>=0;e--)if((f=a[d[e].toLowerCase()])!==b)return f;return a[""]}function $(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function _(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function aa(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function ca(a,b){var c=a.source||{},d=a.color,e=c.color,f=b("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||f,h=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||f,i=a.textColor||c.textColor||b("eventTextColor"),j=[];return g&&j.push("background-color:"+g),h&&j.push("border-color:"+h),i&&j.push("color:"+i),j.join(";")}function da(b,c,d){if(a.isFunction(b)&&(b=[b]),b){var e,f;for(e=0;e<b.length;e++)f=b[e].apply(c,d)||f;return f}}function ea(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==b)return arguments[a]}function fa(a,b){function i(a,b){b&&(r(a,b),a.setDate(1));var i=d("firstDay"),j=w(a,!0);j.setDate(1);var k=r(w(j),1),l=w(j);s(l,-(l.getDay()-i+7)%7),f(l);var m=w(k);s(m,(7-m.getDay()+i)%7),f(m,-1,!0);var n=g(),o=Math.round(y(m,l)/7);"fixed"==d("weekMode")&&(s(m,7*(6-o)),o=6),c.title=h(j,d("titleFormat")),c.start=j,c.end=k,c.visStart=l,c.visEnd=m,e(o,n,!0)}var c=this;c.render=i,ia.call(c,a,b,"month");var d=c.opt,e=c.renderBasic,f=c.skipHiddenDays,g=c.getCellsPerWeek,h=b.formatDate}function ga(a,b){function i(a,b){b&&s(a,7*b);var i=s(w(a),-(a.getDay()-d("firstDay")+7)%7),j=s(w(i),7),k=w(i);f(k);var l=w(j);f(l,-1,!0);var m=g();c.start=i,c.end=j,c.visStart=k,c.visEnd=l,c.title=h(k,s(w(l),-1),d("titleFormat")),e(1,m,!1)}var c=this;c.render=i,ia.call(c,a,b,"basicWeek");var d=c.opt,e=c.renderBasic,f=c.skipHiddenDays,g=c.getCellsPerWeek,h=b.formatDates}function ha(a,b){function h(a,b){b&&s(a,b),f(a,b<0?-1:1);var h=w(a,!0),i=s(w(h),1);c.title=g(a,d("titleFormat")),c.start=c.visStart=h,c.end=c.visEnd=i,e(1,1,!1)}var c=this;c.render=h,ia.call(c,a,b,"basicDay");var d=c.opt,e=c.renderBasic,f=c.skipHiddenDays,g=b.formatDate}function ia(b,c,d){function X(a,b,c){I=a,J=b,L=c,Y(),u?h():Z(),ba()}function Y(){R=f("theme")?"ui":"fc",S=f("columnFormat"),T=f("weekNumbers"),V=f("weekNumberTitle"),W="iso"!=f("weekNumberCalculation")?"w":"W"}function Z(){D=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}function ba(){var c=ca();Fa(),q&&q.remove(),q=a(c).appendTo(b),r=q.find("thead"),t=r.find(".fc-day-header"),u=q.find("tbody"),x=u.find("tr"),y=u.find(".fc-day"),z=x.find("td:first-child"),A=x.eq(0).find(".fc-day > div"),C=x.eq(0).find(".fc-day-content > div"),aa(r.add(r.find("tr"))),aa(x),x.eq(0).addClass("fc-first"),x.filter(":last").addClass("fc-last"),y.each(function(b,c){var d=l(Math.floor(b/J),b%J);g("dayRender",e,d,a(c))}),ia(y)}function ca(){return"<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+da()+ea()+"</table>"}function da(){var c,d,a=R+"-widget-header",b="";for(b+="<thead><tr>",T&&(b+="<th class='fc-week-number "+a+"'>"+$(V)+"</th>"),c=0;c<J;c++)d=l(0,c),b+="<th class='fc-day-header fc-"+m[d.getDay()]+" "+a+"'>"+$(p(d,S))+"</th>";return b+="</tr></thead>"}function ea(){var c,d,e,a=R+"-widget-content",b="";for(b+="<tbody>",c=0;c<I;c++){for(b+="<tr class='fc-week'>",T&&(e=l(c,0),b+="<td class='fc-week-number "+a+"'><div>"+$(p(e,W))+"</div></td>"),d=0;d<J;d++)e=l(c,d),b+=fa(e);b+="</tr>"}return b+="</tbody>"}function fa(a){var b=R+"-widget-content",c=e.start.getMonth(),d=v(new Date),f="",g=["fc-day","fc-"+m[a.getDay()],b];return a.getMonth()!=c&&g.push("fc-other-month"),+a==+d&&g.push("fc-today",R+"-state-highlight"),f+="<td class='"+g.join(" ")+"' data-date='"+p(a,"yyyy-MM-dd")+"'><div>",L&&(f+="<div class='fc-day-number'>"+a.getDate()+"</div>"),f+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function ga(b){F=b;var d,e,g,c=F-r.height();"variable"==f("weekMode")?d=e=Math.floor(c/(1==I?2:6)):(d=Math.floor(c/I),e=c-d*(I-1)),z.each(function(b,c){b<I&&(g=a(c),U(g.find("> div"),(b==I-1?e:d)-Q(g)))}),Ga()}function ha(a){E=a,O.clear(),P.clear(),H=0,T&&(H=r.find("th.fc-week-number").outerWidth()),G=Math.floor((E-H)/J),K(t.slice(0,-1),G)}function ia(a){a.click(ka).mousedown(k)}function ka(b){if(!f("selectable")){var c=B(a(this).data("date"));g("dayClick",this,c,!0,b)}}function la(a,b,c){c&&M.build();for(var d=o(a,b),e=0;e<d.length;e++){var f=d[e];ia(ma(f.row,f.leftCol,f.row,f.rightCol))}}function ma(a,c,d,e){var f=M.rect(a,c,d,e,b);return i(f,b)}function na(a,b){return w(a)}function oa(a,b,c){la(a,s(w(b),1),!0)}function pa(){j()}function qa(a,b,c){var d=n(a),e=y[d.row*J+d.col];g("dayClick",e,a,b,c)}function sa(a,b,c){N.start(function(a){j(),a&&ma(a.row,a.col,a.row,a.col)},b)}function ta(a,b,c){var d=N.stop();if(j(),d){var e=l(d);g("drop",a,e,!0,b,c)}}function ua(a){return w(a.start)}function za(a){return O.left(a)}function Ba(a){return O.right(a)}function Ca(a){return P.left(a)}function Da(a){return P.right(a)}function Ea(a){return x.eq(a)}function Fa(){U(b,b.height())}function Ga(){U(b,1)}var e=this;e.renderBasic=X,e.setHeight=ga,e.setWidth=ha,e.renderDayOverlay=la,e.defaultSelectionEnd=na,e.renderSelection=oa,e.clearSelection=pa,e.reportDayClick=qa,e.dragStart=sa,e.dragStop=ta,e.defaultEventEnd=ua,e.getHoverListener=function(){return N},e.colLeft=za,e.colRight=Ba,e.colContentLeft=Ca,e.colContentRight=Da,e.getIsCellAllDay=function(){return!0},e.allDayRow=Ea,e.getRowCnt=function(){return I},e.getColCnt=function(){return J},e.getColWidth=function(){return G},e.getDaySegmentContainer=function(){return D},ra.call(e,b,c,d),wa.call(e),va.call(e),ja.call(e);var q,r,t,u,x,y,z,A,C,D,E,F,G,H,I,J,L,M,N,O,P,R,S,T,V,W,f=e.opt,g=e.trigger,h=e.clearEvents,i=e.renderOverlay,j=e.clearOverlays,k=e.daySelectionMousedown,l=e.cellToDate,n=e.dateToCell,o=e.rangeToSegments,p=c.formatDate;_(b.addClass("fc-grid")),M=new xa(function(b,c){var d,e,f;t.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),x.each(function(c,g){c<I&&(d=a(g),e=d.offset().top,c&&(f[1]=e),f=[e],b[c]=f)}),f[1]=e+d.outerHeight()}),N=new ya(M),O=new Aa(function(a){return A.eq(a)}),P=new Aa(function(a){return C.eq(a)})}function ja(){function b(b,c){a.reportEvents(b),a.renderDayEvents(b,c),a.trigger("eventAfterAllRender")}function c(){a.reportEventClear(),a.getDaySegmentContainer().empty()}var a=this;a.renderEvents=b,a.clearEvents=c,sa.call(a)}function ka(a,b){function i(a,b){b&&s(a,7*b);var i=s(w(a),-(a.getDay()-d("firstDay")+7)%7),j=s(w(i),7),k=w(i);f(k);var l=w(j);f(l,-1,!0);var m=g();c.title=h(k,s(w(l),-1),d("titleFormat")),c.start=i,c.end=j,c.visStart=k,c.visEnd=l,e(m)}var c=this;c.render=i,ma.call(c,a,b,"agendaWeek");var d=c.opt,e=c.renderAgenda,f=c.skipHiddenDays,g=c.getCellsPerWeek,h=b.formatDates}function la(a,b){function h(a,b){b&&s(a,b),f(a,b<0?-1:1);var h=w(a,!0),i=s(w(h),1);c.title=g(a,d("titleFormat")),c.start=c.visStart=h,c.end=c.visEnd=i,e(1)}var c=this;c.render=h,ma.call(c,a,b,"agendaDay");var d=c.opt,e=c.renderAgenda,f=c.skipHiddenDays,g=b.formatDate}function ma(c,d,e){function Ea(a){ha=a,Fa(),z?(Ha(),i()):Ga()}function Fa(){qa=g("theme")?"ui":"fc",sa=g("isRTL"),ta=C(g("minTime")),ua=C(g("maxTime")),za=g("columnFormat"),Ba=g("weekNumbers"),Ca=g("weekNumberTitle"),Da="iso"!=g("weekNumberCalculation")?"w":"W",ea=g("snapMinutes")||g("slotMinutes")}function Ga(){var e,f,h,i,j,b=qa+"-widget-header",d=qa+"-widget-content",k=g("slotMinutes")%15==0;for(Ha(),J=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c),g("allDaySlot")?(M=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(J),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+b+" fc-agenda-axis'>"+g("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+b+" fc-agenda-gutter'>&nbsp;</th></tr></table>",N=a(e).appendTo(J),O=N.find("tr"),Qa(O.find("td")),J.append("<div class='fc-agenda-divider "+b+"'><div class='fc-agenda-divider-inner'/></div>")):M=a([]),P=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(J),R=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(P),S=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(R),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",f=x(),i=u(w(f),ua),u(f,ta),ia=0,h=0;f<i;h++)j=f.getMinutes(),e+="<tr class='fc-slot"+h+" "+(j?"fc-minor":"")+"'><th class='fc-agenda-axis "+b+"'>"+(k&&j?"&nbsp;":y(f,g("axisFormat")))+"</th><td class='"+d+"'><div style='position:relative'>&nbsp;</div></td></tr>",u(f,g("slotMinutes")),ia++;e+="</tbody></table>",T=a(e).appendTo(R),U=T.find("div:first"),Ra(T.find("td"))}function Ha(){var b=Ia();z&&z.remove(),z=a(b).appendTo(c),A=z.find("thead"),B=A.find("th").slice(1,-1),D=z.find("tbody"),E=D.find("td").slice(0,-1),F=E.find("> div"),G=E.find(".fc-day-content > div"),H=E.eq(0),I=F.eq(0),aa(A.add(A.find("tr"))),aa(D.add(D.find("tr")))}function Ia(){return"<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+Ja()+Ka()+"</table>"}function Ja(){var b,d,e,a=qa+"-widget-header",c="";for(c+="<thead><tr>",Ba?(d=y(b,Da),sa?d+=Ca:d=Ca+d,c+="<th class='fc-agenda-axis fc-week-number "+a+"'>"+$(d)+"</th>"):c+="<th class='fc-agenda-axis "+a+"'>&nbsp;</th>",e=0;e<ha;e++)b=q(0,e),c+="<th class='fc-"+m[b.getDay()]+" fc-col"+e+" "+a+"'>"+$(y(b,za))+"</th>";return c+="<th class='fc-agenda-gutter "+a+"'>&nbsp;</th></tr></thead>"}function Ka(){var c,e,f,g,h,a=qa+"-widget-header",b=qa+"-widget-content",d=v(new Date),i="";for(i+="<tbody><tr><th class='fc-agenda-axis "+a+"'>&nbsp;</th>",f="",e=0;e<ha;e++)c=q(0,e),h=["fc-col"+e,"fc-"+m[c.getDay()],b],+c==+d&&h.push(qa+"-state-highlight","fc-today"),g="<td class='"+h.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",f+=g;return i+=f,i+="<td class='fc-agenda-gutter "+b+"'>&nbsp;</td></tr></tbody>"}function La(a,c){a===b&&(a=Y),Y=a,oa={};var d=D.position().top,e=P.position().top,f=Math.min(a-d,T.height()+e+1);I.height(f-Q(H)),J.css("top",d),P.height(f-e-1),da=U.height()+1,fa=g("slotMinutes")/ea,ga=da/fa,c&&Na()}function Ma(b){X=b,la.clear(),ma.clear();var c=A.find("th:first");N&&(c=c.add(N.find("th:first"))),c=c.add(T.find("th:first")),Z=0,K(c.width("").each(function(b,c){Z=Math.max(Z,a(c).outerWidth())}),Z);var d=z.find(".fc-agenda-gutter");N&&(d=d.add(N.find("th.fc-agenda-gutter")));var e=P[0].clientWidth;ca=P.width()-e,ca?(K(d,ca),d.show().prev().removeClass("fc-last")):d.hide().prev().addClass("fc-last"),ba=Math.floor((e-Z)/ha),K(B.slice(0,-1),ba)}function Na(){function d(){P.scrollTop(c)}var a=x(),b=w(a);b.setHours(g("firstHour"));var c=ab(a,b)+1;d(),setTimeout(d,0)}function Oa(){pa=P.scrollTop()}function Pa(){P.scrollTop(pa)}function Qa(a){a.click(Sa).mousedown(o)}function Ra(a){a.click(Sa).mousedown(hb)}function Sa(a){if(!g("selectable")){var b=Math.min(ha-1,Math.floor((a.pageX-z.offset().left-Z)/ba)),c=q(0,b),d=this.parentNode.className.match(/fc-slot(\d+)/);if(d){var e=parseInt(d[1])*g("slotMinutes"),f=Math.floor(e/60);c.setHours(f),c.setMinutes(e%60+ta),h("dayClick",E[b],c,!1,a)}else h("dayClick",E[b],c,!0,a)}}function Ta(a,b,c){c&&ja.build();for(var d=t(a,b),e=0;e<d.length;e++){var f=d[e];Qa(Ua(f.row,f.leftCol,f.row,f.rightCol))}}function Ua(a,b,c,d){var e=ja.rect(a,b,c,d,J);return j(e,J)}function Va(a,b){for(var c=0;c<ha;c++){var d=q(0,c),e=s(w(d),1),f=new Date(Math.max(d,a)),g=new Date(Math.min(e,b));if(f<g){var h=ja.rect(0,c,0,c,R),i=ab(d,f),k=ab(d,g);h.top=i,h.height=k-i,Ra(j(h,R))}}}function Wa(a){return la.left(a)}function Xa(a){return ma.left(a)}function Ya(a){return la.right(a)}function Za(a){return ma.right(a)}function $a(a){return g("allDaySlot")&&!a.row}function _a(a){var b=q(0,a.col),c=a.row;return g("allDaySlot")&&c--,c>=0&&u(b,ta+c*ea),b}function ab(a,c){if(a=w(a,!0),c<u(w(a),ta))return 0;if(c>=u(w(a),ua))return T.height();var d=g("slotMinutes"),e=60*c.getHours()+c.getMinutes()-ta,f=Math.floor(e/d),h=oa[f];return h===b&&(h=oa[f]=T.find("tr:eq("+f+") td div")[0].offsetTop),Math.max(0,Math.round(h-1+da*(e%d/d)))}function bb(a){return O}function cb(a){var b=w(a.start);return a.allDay?b:u(b,g("defaultEventMinutes"))}function db(a,b){return b?w(a):u(w(a),g("slotMinutes"))}function eb(a,b,c){c?g("allDaySlot")&&Ta(a,s(w(b),1),!0):fb(a,b)}function fb(b,c){var d=g("selectHelper");if(ja.build(),d){var e=r(b).col;if(e>=0&&e<ha){var f=ja.rect(0,e,0,e,R),h=ab(b,b),i=ab(b,c);if(i>h){if(f.top=h,f.height=i-h,f.left+=2,f.width-=5,a.isFunction(d)){var j=d(b,c);j&&(f.position="absolute",f.zIndex=8,V=a(j).css(f).appendTo(R))}else f.isStart=!0,f.isEnd=!0,V=a(p({title:"",start:b,end:c,className:["fc-select-helper"],editable:!1},f)),V.css("opacity",g("dragOpacity"));V&&(Ra(V),R.append(V),K(V,f.width,!0),L(V,f.height,!0))}}}else Va(b,c)}function gb(){k(),V&&(V.remove(),V=null)}function hb(b){if(1==b.which&&g("selectable")){n(b);var c;ka.start(function(a,b){if(gb(),a&&a.col==b.col&&!$a(a)){var d=_a(b),e=_a(a);c=[d,u(w(d),ea),e,u(w(e),ea)].sort(W),fb(c[0],c[3])}else c=null},b),a(document).one("mouseup",function(a){ka.stop(),c&&(+c[0]==+c[1]&&ib(c[0],!1,a),l(c[0],c[3],!1,a))})}}function ib(a,b,c){h("dayClick",E[r(a).col],a,b,c)}function jb(a,b,c){ka.start(function(a){if(k(),a)if($a(a))Ua(a.row,a.col,a.row,a.col);else{var b=_a(a),c=u(w(b),g("defaultEventMinutes"));Va(b,c)}},b)}function kb(a,b,c){var d=ka.stop();k(),d&&h("drop",a,_a(d),$a(d),b,c)}var f=this;f.renderAgenda=Ea,f.setWidth=Ma,f.setHeight=La,f.beforeHide=Oa,f.afterShow=Pa,f.defaultEventEnd=cb,f.timePosition=ab,f.getIsCellAllDay=$a,f.allDayRow=bb,f.getHoverListener=function(){return ka},f.colLeft=Wa,f.colRight=Ya,f.colContentLeft=Xa,f.colContentRight=Za,f.getDaySegmentContainer=function(){return M},f.getSlotSegmentContainer=function(){return S},f.getMinMinute=function(){return ta},f.getMaxMinute=function(){return ua},f.getSlotContainer=function(){return R},f.getRowCnt=function(){return 1},f.getColCnt=function(){return ha},f.getColWidth=function(){return ba},f.getSnapHeight=function(){return ga},f.getSnapMinutes=function(){return ea},f.defaultSelectionEnd=db,f.renderDayOverlay=Ta,f.renderSelection=eb,f.clearSelection=gb,f.reportDayClick=ib,f.dragStart=jb,f.dragStop=kb,ra.call(f,c,d,e),wa.call(f),va.call(f),na.call(f);var z,A,B,D,E,F,G,H,I,J,M,N,O,P,R,S,T,U,V,X,Y,Z,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,pa,qa,sa,ta,ua,za,Ba,Ca,Da,g=f.opt,h=f.trigger,i=f.clearEvents,j=f.renderOverlay,k=f.clearOverlays,l=f.reportSelection,n=f.unselect,o=f.daySelectionMousedown,p=f.slotSegHtml,q=f.cellToDate,r=f.dateToCell,t=f.rangeToSegments,y=d.formatDate,oa={};_(c.addClass("fc-agenda")),ja=new xa(function(b,c){function k(a){return Math.max(i,Math.min(j,a))}var d,e,f;B.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),g("allDaySlot")&&(d=O,e=d.offset().top,b[0]=[e,e+d.outerHeight()]);for(var h=R.offset().top,i=P.offset().top,j=i+P.outerHeight(),l=0;l<ia*fa;l++)b.push([k(h+ga*l),k(h+ga*(l+1))])}),ka=new ya(ja),la=new Aa(function(a){return F.eq(a)}),ma=new Aa(function(a){return G.eq(a)})}function na(){function W(a,b){i(a);var c,f=a.length,g=[],h=[];for(c=0;c<f;c++)a[c].allDay?g.push(a[c]):h.push(a[c]);d("allDaySlot")&&(S(g,b),l()),aa(Y(h),b),e("eventAfterAllRender")}function X(){j(),m().empty(),n().empty()}function Y(b){var f,h,i,j,k,l,m,c=B(),d=r(),e=q(),g=a.map(b,_),n=[];for(h=0;h<c;h++)for(f=z(0,h),u(f,d),i=oa(Z(b,g,f,u(w(f),e-d))),pa(i),j=0;j<i.length;j++)for(k=i[j],l=0;l<k.length;l++)m=k[l],m.col=h,m.level=j,n.push(m);return n}function Z(a,b,c,d){var f,h,i,j,k,l,m,n,e=[],g=a.length;for(f=0;f<g;f++)h=a[f],i=h.start,(j=b[f])>c&&i<d&&(i<c?(k=w(c),m=!1):(k=i,m=!0),j>d?(l=w(d),n=!1):(l=j,n=!0),e.push({event:h,start:k,end:l,isStart:m,isEnd:n,msLength:l-k}));return e.sort(A)}function _(a){return a.end?w(a.end):u(w(a.start),d("defaultEventMinutes"))}function aa(c,f){var g,i,j,l,m,o,p,q,r,s,u,w,z,A,B,C,D,F,H,h=c.length,y="",E=n();for(H=(F=d("isRTL"))?-1:1,g=0;g<h;g++)i=c[g],j=i.event,l=t(i.start,i.start),m=t(i.start,i.end),o=i.col,p=i.level,q=i.forward||0,r=v(o),s=x(o)-r,s=Math.min(s-6,.95*s),u=p?s/(p+q+1):q?2*(s/(q+1)-6):s,w=r+s/(p+q+1)*p*H+(F?s-u:0),i.top=l,i.left=w,i.outerWidth=u,i.outerHeight=m-l,y+=ba(j,i);for(E[0].innerHTML=y,z=E.children(),g=0;g<h;g++)i=c[g],j=i.event,A=a(z[g]),B=e("eventRender",j,j,A),!1===B?A.remove():(B&&!0!==B&&(A.remove(),A=a(B).css({position:"absolute",top:i.top,left:i.left}).appendTo(E)),i.element=A,j._id===f?da(j,A,i):A[0]._fci=g,G(j,A));for(J(E,c,da),g=0;g<h;g++)i=c[g],(A=i.element)&&(i.vsides=Q(A,!0),i.hsides=M(A,!0),C=A.find(".fc-event-title"),C.length&&(i.contentTop=C[0].offsetTop));for(g=0;g<h;g++)i=c[g],(A=i.element)&&(A[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px",D=Math.max(0,i.outerHeight-i.vsides),A[0].style.height=D+"px",j=i.event,i.contentTop!==b&&D-i.contentTop<10&&(A.find("div.fc-event-time").text(U(j.start,d("timeFormat"))+" - "+j.title),A.find("div.fc-event-title").remove()),e("eventAfterRender",j,j,A))}function ba(a,b){var c="<",e=a.url,h=ca(a,d),i=["fc-event","fc-event-vert"];return f(a)&&i.push("fc-event-draggable"),b.isStart&&i.push("fc-event-start"),b.isEnd&&i.push("fc-event-end"),i=i.concat(a.className),a.source&&(i=i.concat(a.source.className||[])),c+=e?"a href='"+$(a.url)+"'":"div",c+=" class='"+i.join(" ")+"' style='position:absolute;z-index:8;top:"+b.top+"px;left:"+b.left+"px;"+h+"'><div class='fc-event-inner'><div class='fc-event-time'>"+$(V(a.start,a.end,d("timeFormat")))+"</div><div class='fc-event-title'>"+$(a.title)+"</div></div><div class='fc-event-bg'></div>",b.isEnd&&g(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),c+="</"+(e?"a":"div")+">"}function da(a,b,c){var d=b.find("div.fc-event-time");f(a)&&fa(a,b,d),c.isEnd&&g(a)&&ga(a,b,d),k(a,b)}function ea(a,b,c){function t(){i||(b.width(g).height("").draggable("option","grid",null),i=!0)}var g,h,j,f=c.isStart,i=!0,k=o(),l=C(),m=D(),n=E(),q=r();b.draggable({zIndex:9,opacity:d("dragOpacity","month"),revertDuration:d("dragRevertDuration"),start:function(c,o){e("eventDragStart",b,a,c,o),K(a,b),g=b.width(),k.start(function(c,e){if(R(),c){h=!1;var g=z(0,e.col),k=z(0,c.col);j=y(k,g),c.row?f?i&&(b.width(l-10),L(b,m*Math.round((a.end?(a.end-a.start)/p:d("defaultEventMinutes"))/n)),b.draggable("option","grid",[l,1]),i=!1):h=!0:(P(s(w(a.start),j),s(H(a),j)),t()),h=h||i&&!j}else t(),h=!0;b.draggable("option","revert",h)},c,"drag")},stop:function(c,d){if(k.stop(),R(),e("eventDragStop",b,a,c,d),h)t(),b.css("filter",""),I(a,b);else{var f=0;i||(f=Math.round((b.offset().top-F().offset().top)/m)*n+q-(60*a.start.getHours()+a.start.getMinutes())),N(this,a,j,f,i,c,d)}}})}function fa(a,b,c){function q(b){var f,e=u(w(a.start),b);a.end&&(f=u(w(a.end),b)),c.text(V(e,f,d("timeFormat")))}function r(){g&&(c.css("display",""),b.draggable("option","grid",[m,n]),g=!1)}var f,h,i,j,g=!1,k=o(),l=B(),m=C(),n=D(),p=E();b.draggable({zIndex:9,scroll:!1,grid:[m,n],axis:1==l&&"y",opacity:d("dragOpacity"),revertDuration:d("dragRevertDuration"),start:function(l,m){e("eventDragStart",b,a,l,m),K(a,b),f=b.position(),i=j=0,k.start(function(e,f){if(b.draggable("option","revert",!e),R(),e){var i=z(0,f.col),j=z(0,e.col);h=y(j,i),d("allDaySlot")&&!e.row?(g||(g=!0,c.hide(),b.draggable("option","grid",null)),P(s(w(a.start),h),s(H(a),h))):r()}},l,"drag")},drag:function(a,b){(i=Math.round((b.position.top-f.top)/n)*p)!=j&&(g||q(i),j=i)},stop:function(c,d){var j=k.stop();R(),e("eventDragStop",b,a,c,d),j&&(h||i||g)?N(this,a,h,g?0:i,g,c,d):(r(),b.css("filter",""),b.css(f),q(0),I(a,b))}})}function ga(a,b,c){var f,g,i=D(),j=E();b.resizable({handles:{s:".ui-resizable-handle"},grid:i,start:function(c,d){f=g=0,K(a,b),b.css("z-index",9),e("eventResizeStart",this,a,c,d)},resize:function(e,k){(f=Math.round((Math.max(i,b.height())-k.originalSize.height)/i))!=g&&(c.text(V(a.start,f||a.end?u(h(a),j*f):null,d("timeFormat"))),g=f)},stop:function(c,d){e("eventResizeStop",this,a,c,d),f?O(this,a,0,j*f,c,d):(b.css("z-index",8),I(a,b))}})}var c=this;c.renderEvents=W,c.clearEvents=X,c.slotSegHtml=ba,sa.call(c);var d=c.opt,e=c.trigger,f=c.isEventDraggable,g=c.isEventResizable,h=c.eventEnd,i=c.reportEvents,j=c.reportEventClear,k=c.eventElementHandlers,l=c.setHeight,m=c.getDaySegmentContainer,n=c.getSlotSegmentContainer,o=c.getHoverListener,q=c.getMaxMinute,r=c.getMinMinute,t=c.timePosition,v=c.colContentLeft,x=c.colContentRight,z=c.cellToDate,A=c.segmentCompare,B=c.getColCnt,C=c.getColWidth,D=c.getSnapHeight,E=c.getSnapMinutes,F=c.getSlotContainer,G=c.reportEventElement,I=c.showEvents,K=c.hideEvents,N=c.eventDrop,O=c.eventResize,P=c.renderDayOverlay,R=c.clearOverlays,S=c.renderDayEvents,T=c.calendar,U=T.formatDate,V=T.formatDates;c.draggableDayEvent=ea}function oa(a){var c,e,f,g,h,b=[],d=a.length;for(c=0;c<d;c++){for(e=a[c],f=0;;){if(g=!1,b[f])for(h=0;h<b[f].length;h++)if(qa(b[f][h],e)){g=!0;break}if(!g)break;f++}b[f]?b[f].push(e):b[f]=[e]}return b}function pa(a){var b,c,d,e,f,g;for(b=a.length-1;b>0;b--)for(e=a[b],c=0;c<e.length;c++)for(f=e[c],d=0;d<a[b-1].length;d++)g=a[b-1][d],qa(f,g)&&(g.forward=Math.max(g.forward||0,(f.forward||0)+1))}function qa(a,b){return a.end>b.start&&a.start<b.end}function ra(c,d,e){function n(b,c){var d=m[b];return a.isPlainObject(d)?Z(d,c||e):d}function o(a,b){return d.trigger.apply(d,[a,b||f].concat(Array.prototype.slice.call(arguments,2),[f]))}function p(a){return r(a)&&!n("disableDragging")}function q(a){return r(a)&&!n("disableResizing")}function r(a){return ea(a.editable,(a.source||{}).editable,n("editable"))}function t(a){j={};var b,d,c=a.length;for(b=0;b<c;b++)d=a[b],j[d._id]?j[d._id].push(d):j[d._id]=[d]}function v(a){return a.end?w(a.end):g(a)}function x(a,b){k.push(b),l[a._id]?l[a._id].push(b):l[a._id]=[b]}function z(){k=[],l={}}function A(a,b){b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return o("eventClick",this,a,c)}).hover(function(b){o("eventMouseover",this,a,b)},function(b){o("eventMouseout",this,a,b)})}function B(a,b){D(a,b,"show")}function C(a,b){D(a,b,"hide")}function D(a,b,c){var e,d=l[a._id],f=d.length;for(e=0;e<f;e++)b&&d[e][0]==b[0]||d[e][c]()}function E(a,b,c,d,e,f,g){var h=b.allDay,k=b._id;G(j[k],c,d,e),o("eventDrop",a,b,c,d,e,function(){G(j[k],-c,-d,h),i(k)},f,g),i(k)}function F(a,b,c,d,e,f){var g=b._id;H(j[g],c,d),o("eventResize",a,b,c,d,function(){H(j[g],-c,-d),i(g)},e,f),i(g)}function G(a,c,d,e){d=d||0;for(var f,g=a.length,i=0;i<g;i++)f=a[i],e!==b&&(f.allDay=e),u(s(f.start,c,!0),d),f.end&&(f.end=u(s(f.end,c,!0),d)),h(f,m)}function H(a,b,c){c=c||0;for(var d,e=a.length,f=0;f<e;f++)d=a[f],d.end=u(s(v(d),b,!0),c),h(d,m)}function O(a){return"object"==typeof a&&(a=a.getDay()),J[a]}function P(){return K}function Q(a,b,c){for(b=b||1;J[(a.getDay()+(c?b:0)+7)%7];)s(a,b)}function R(){return U(T(S.apply(null,arguments)))}function S(a,b){var c=f.getColCnt(),d=N?-1:1,e=N?c-1:0;return"object"==typeof a&&(b=a.col,a=a.row),a*c+(b*d+e)}function T(a){var b=f.visStart.getDay();return a+=L[b],7*Math.floor(a/K)+M[(a%K+K)%K]-b}function U(a){var b=w(f.visStart);return s(b,a),b}function V(a){return Y(X(W(a)))}function W(a){return y(a,f.visStart)}function X(a){var b=f.visStart.getDay();return a+=b,Math.floor(a/7)*K+L[(a%7+7)%7]-L[b]}function Y(a){var b=f.getColCnt(),c=N?-1:1,d=N?b-1:0;return{row:Math.floor(a/b),col:(a%b+b)%b*c+d}}function $(a,b){for(var c=f.getRowCnt(),d=f.getColCnt(),e=[],g=W(a),h=W(b),i=X(g),j=X(h)-1,k=0;k<c;k++){var l=k*d,m=l+d-1,n=Math.max(i,l),o=Math.min(j,m);if(n<=o){var p=Y(n),q=Y(o),r=[p.col,q.col].sort(),s=T(n)==g,t=T(o)+1==h;e.push({row:k,leftCol:r[0],rightCol:r[1],isStart:s,isEnd:t})}}return e}function _(a,b){return aa(a,b)||a.event.start-b.event.start||(a.event.title||"").localeCompare(b.event.title)}function aa(a,b){return"msLength"in a?b.msLength-a.msLength:b.rightCol-b.leftCol-(a.rightCol-a.leftCol)||b.event.allDay-a.event.allDay}var f=this;f.element=c,f.calendar=d,f.name=e,f.opt=n,f.trigger=o,f.isEventDraggable=p,f.isEventResizable=q,f.reportEvents=t,f.eventEnd=v,f.reportEventElement=x,f.reportEventClear=z,f.eventElementHandlers=A,f.showEvents=B,f.hideEvents=C,f.eventDrop=E,f.eventResize=F;var g=f.defaultEventEnd,h=d.normalizeEvent,i=d.reportEventChange,j={},k=[],l={},m=d.options;f.isHiddenDay=O,f.skipHiddenDays=Q,f.getCellsPerWeek=P,f.dateToCell=V,f.dateToDayOffset=W,f.dayOffsetToCellOffset=X,f.cellOffsetToCell=Y,f.cellToDate=R,f.cellToCellOffset=S,f.cellOffsetToDayOffset=T,f.dayOffsetToDate=U,f.rangeToSegments=$,f.segmentCompare=_;var K,I=n("hiddenDays")||[],J=[],L=[],M=[],N=n("isRTL");!function(){!1===n("weekends")&&I.push(0,6);for(var b=0,c=0;b<7;b++)L[b]=c,J[b]=-1!=a.inArray(b,I),J[b]||(M[c]=b,c++);if(!(K=c))throw"invalid hiddenDays"}()}function sa(){function P(a,b){var c=R(a,!1,!0);ua(c,function(a,b){h(a.event,b)}),ga(c,b),ua(c,function(a,b){d("eventAfterRender",a.event,a.event,b)})}function Q(a,b,c){var d=R([a],!0,!1),e=[];return ua(d,function(a,d){a.row===b&&d.css("top",c),e.push(d[0])}),e}function R(b,c,d){var h,i,e=z(),f=c?a("<div/>"):e,g=S(b);return U(g),h=V(g),f[0].innerHTML=h,i=f.children(),c&&e.append(i),Y(g,i),ua(g,function(a,b){a.hsides=M(b,!0)}),ua(g,function(a,b){b.width(Math.max(0,a.outerWidth-a.hsides))}),ua(g,function(a,b){a.outerHeight=b.outerHeight(!0)}),Z(g,d),g}function S(a){for(var b=[],c=0;c<a.length;c++){var d=T(a[c]);b.push.apply(b,d)}return b}function T(a){for(var b=a.start,c=H(a),d=F(b,c),e=0;e<d.length;e++)d[e].event=a;return d}function U(a){for(var b=c("isRTL"),d=0;d<a.length;d++){var e=a[d],f=(b?e.isEnd:e.isStart)?u:r,g=(b?e.isStart:e.isEnd)?v:t,h=f(e.leftCol),i=g(e.rightCol);e.left=h,e.outerWidth=i-h}}function V(a){for(var b="",c=0;c<a.length;c++)b+=W(a[c]);return b}function W(a){var b="",d=c("isRTL"),g=a.event,h=g.url,i=["fc-event","fc-event-hori"];e(g)&&i.push("fc-event-draggable"),a.isStart&&i.push("fc-event-start"),a.isEnd&&i.push("fc-event-end"),i=i.concat(g.className),g.source&&(i=i.concat(g.source.className||[]));var j=ca(g,c);return b+=h?"<a href='"+$(h)+"'":"<div",b+=" class='"+i.join(" ")+"' style='position:absolute;z-index:8;left:"+a.left+"px;"+j+"'><div class='fc-event-inner'>",!g.allDay&&a.isStart&&(b+="<span class='fc-event-time'>"+$(A(g.start,g.end,c("timeFormat")))+"</span>"),b+="<span class='fc-event-title'>"+$(g.title)+"</span></div>",a.isEnd&&f(g)&&(b+="<div class='ui-resizable-handle ui-resizable-"+(d?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),b+="</"+(h?"a":"div")+">"}function Y(b,c){for(var e=0;e<b.length;e++){var f=b[e],g=f.event,h=c.eq(e),i=d("eventRender",g,g,h);!1===i?h.remove():(i&&!0!==i&&(i=a(i).css({position:"absolute",zIndex:8,left:f.left}),h.replaceWith(i),h=i),f.element=h)}}function Z(a,b){var c=aa(a),d=fa(),e=[];if(b)for(var f=0;f<d.length;f++)d[f].height(c[f]);for(var f=0;f<d.length;f++)e.push(d[f].position().top);ua(a,function(a,b){b.css("top",e[a.row]+a.top)})}function aa(a){for(var b=n(),c=o(),d=[],e=ba(a),f=0;f<b;f++){for(var g=e[f],h=[],i=0;i<c;i++)h.push(0);for(var j=0;j<g.length;j++){var k=g[j];k.top=X(h.slice(k.leftCol,k.rightCol+1));for(var i=k.leftCol;i<=k.rightCol;i++)h[i]=k.top+k.outerHeight}d.push(X(h))}return d}function ba(a){var d,e,f,b=n(),c=[];for(d=0;d<a.length;d++)e=a[d],f=e.row,e.element&&(c[f]?c[f].push(e):c[f]=[e]);for(f=0;f<b;f++)c[f]=da(c[f]||[]);return c}function da(a){for(var b=[],c=ea(a),d=0;d<c.length;d++)b.push.apply(b,c[d]);return b}function ea(a){a.sort(G);for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=0;e<b.length&&ta(d,b[e]);e++);b[e]?b[e].push(d):b[e]=[d]}return b}function fa(){var a,b=n(),c=[];for(a=0;a<b;a++)c[a]=q(a).find("div.fc-day-content > div");return c}function ga(a,b){var c=z();ua(a,function(a,c,d){var e=a.event;e._id===b?ha(e,c,a):c[0]._fci=d}),J(c,a,ha)}function ha(a,c,d){e(a)&&b.draggableDayEvent(a,c,d),d.isEnd&&f(a)&&b.resizableDayEvent(a,c,d),i(a,c)}function ia(a,b){var f,e=E();b.draggable({zIndex:9,delay:50,opacity:c("dragOpacity"),revertDuration:c("dragRevertDuration"),start:function(c,g){d("eventDragStart",b,a,c,g),k(a,b),e.start(function(c,d,e,g){if(b.draggable("option","revert",!c||!e&&!g),C(),c){var h=I(d),i=I(c);f=y(i,h),B(s(w(a.start),f),s(H(a),f))}else f=0},c,"drag")},stop:function(c,g){e.stop(),C(),d("eventDragStop",b,a,c,g),f?l(this,a,f,0,a.allDay,c,g):(b.css("filter",""),j(a,b))}})}function ja(b,e,f){var h=c("isRTL"),i=h?"w":"e",l=e.find(".ui-resizable-"+i),p=!1;_(e),e.mousedown(function(a){a.preventDefault()}).click(function(a){p&&(a.preventDefault(),a.stopImmediatePropagation())}),l.mousedown(function(c){function x(c){d("eventResizeStop",this,b,c),a("body").css("cursor",""),h.stop(),C(),t&&m(this,b,t,0,c),setTimeout(function(){p=!1},0)}if(1==c.which){p=!0;var t,u,h=E(),r=(n(),o(),e.css("top")),v=a.extend({},b),w=O(N(b.start));D(),a("body").css("cursor",i+"-resize").one("mouseup",x),d("eventResizeStart",this,b,c),h.start(function(c,d){if(c){var e=K(d),h=K(c);if(h=Math.max(h,w),t=L(h)-L(e)){v.end=s(g(b),t,!0);var l=u;u=Q(v,f.row,r),u=a(u),u.find("*").css("cursor",i+"-resize"),l&&l.remove(),k(b)}else u&&(j(b),u.remove(),u=null);C(),B(b.start,s(H(b),t))}},c)}})}var b=this;b.renderDayEvents=P,b.draggableDayEvent=ia,b.resizableDayEvent=ja;var c=b.opt,d=b.trigger,e=b.isEventDraggable,f=b.isEventResizable,g=b.eventEnd,h=b.reportEventElement,i=b.eventElementHandlers,j=b.showEvents,k=b.hideEvents,l=b.eventDrop,m=b.eventResize,n=b.getRowCnt,o=b.getColCnt,q=(b.getColWidth,b.allDayRow),r=b.colLeft,t=b.colRight,u=b.colContentLeft,v=b.colContentRight,z=(b.dateToCell,b.getDaySegmentContainer),A=b.calendar.formatDates,B=b.renderDayOverlay,C=b.clearOverlays,D=b.clearSelection,E=b.getHoverListener,F=b.rangeToSegments,G=b.segmentCompare,I=b.cellToDate,K=b.cellToCellOffset,L=b.cellOffsetToDayOffset,N=b.dateToDayOffset,O=b.dayOffsetToCellOffset}function ta(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.leftCol<=a.rightCol&&d.rightCol>=a.leftCol)return!0}return!1}function ua(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.element;e&&b(d,e,c)}}function va(){function i(a,b,c){j(),b||(b=e(a,c)),f(a,b,c),k(a,b,c)}function j(a){h&&(h=!1,g(),d("unselect",null,a))}function k(a,b,c,e){h=!0,d("select",null,a,b,c,e)}function l(d){var e=b.cellToDate,h=b.getIsCellAllDay,i=b.getHoverListener(),l=b.reportDayClick;if(1==d.which&&c("selectable")){j(d);var n;i.start(function(a,b){g(),a&&h(a)?(n=[e(b),e(a)].sort(W),f(n[0],n[1],!0)):n=null},d),a(document).one("mouseup",function(a){i.stop(),n&&(+n[0]==+n[1]&&l(n[0],!0,a),k(n[0],n[1],!0,a))})}}var b=this;b.select=i,b.unselect=j,b.reportSelection=k,b.daySelectionMousedown=l;var c=b.opt,d=b.trigger,e=b.defaultSelectionEnd,f=b.renderSelection,g=b.clearSelection,h=!1;c("selectable")&&c("unselectAuto")&&a(document).mousedown(function(b){var d=c("unselectCancel");d&&a(b.target).parents(d).length||j(b)})}function wa(){function e(b,e){var f=d.shift();return f||(f=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),f[0].parentNode!=e[0]&&f.appendTo(e),c.push(f.css(b).show()),f}function f(){for(var a;a=c.shift();)d.push(a.hide().unbind())}var b=this;b.renderOverlay=e,b.clearOverlays=f;var c=[],d=[]}function xa(a){var c,d,b=this;b.build=function(){c=[],d=[],a(c,d)},b.cell=function(a,b){var g,e=c.length,f=d.length,h=-1,i=-1;for(g=0;g<e;g++)if(b>=c[g][0]&&b<c[g][1]){h=g;break}for(g=0;g<f;g++)if(a>=d[g][0]&&a<d[g][1]){i=g;break}return h>=0&&i>=0?{row:h,col:i}:null},b.rect=function(a,b,e,f,g){var h=g.offset();return{top:c[a][0]-h.top,left:d[b][0]-h.left,width:d[f][1]-d[b][0],height:c[e][1]-c[a][0]}}}function ya(b){function h(a){za(a);var c=b.cell(a.pageX,a.pageY);(!c!=!g||c&&(c.row!=g.row||c.col!=g.col))&&(c?(f||(f=c),e(c,f,c.row-f.row,c.col-f.col)):e(c,f),g=c)}var d,e,f,g,c=this;c.start=function(c,i,j){e=c,f=g=null,b.build(),h(i),d=j||"mousemove",a(document).bind(d,h)},c.stop=function(){return a(document).unbind(d,h),g}}function za(a){a.pageX===b&&(a.pageX=a.originalEvent.pageX,a.pageY=a.originalEvent.pageY)}function Aa(a){function g(b){return d[b]=d[b]||a(b)}var c=this,d={},e={},f={};c.left=function(a){return e[a]=e[a]===b?g(a).position().left:e[a]},c.right=function(a){return f[a]=f[a]===b?c.left(a)+g(a).width():f[a]},c.clear=function(){d={},e={},f={}}}var c={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Apr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"hoje",month:"mês",week:"semana",day:"dia"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},d={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},e=a.fullCalendar={version:"1.6.2"},f=e.views={};a.fn.fullCalendar=function(e){if("string"==typeof e){var g,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=a.data(this,"fullCalendar");if(c&&a.isFunction(c[e])){var d=c[e].apply(c,f);g===b&&(g=d),"destroy"==e&&a.removeData(this,"fullCalendar")}}),g!==b?g:this}var i=e.eventSources||[];return delete e.eventSources,e.events&&(i.push(e.events),delete e.events),e=a.extend(!0,{},c,e.isRTL||e.isRTL===b&&c.isRTL?d:{},e),this.each(function(b,c){var d=a(c),f=new h(d,e,i);d.data("fullCalendar",f),f.render()}),this},e.sourceNormalizers=[],e.sourceFetchers=[];var j={dataType:"json",cache:!1},k=1;e.addDays=s,e.cloneDate=w,e.parseDate=A,e.parseISO8601=B,e.parseTime=C,e.formatDate=D,e.formatDates=E;var m=["sun","mon","tue","wed","thu","fri","sat"],n=864e5,o=36e5,p=6e4,F={s:function(a){return a.getSeconds()},ss:function(a){return Y(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Y(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Y(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Y(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Y(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Y(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return D(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){var b=a.getDate();return b>10&&b<20?"th":["st","nd","rd"][b%10-1]||"th"},w:function(a,b){return b.weekNumberCalculation(a)},W:function(a){return G(a)}};e.dateFormatters=F,e.applyAll=da,f.month=fa,f.basicWeek=ga,f.basicDay=ha,g({weekMode:"fixed"}),f.agendaWeek=ka,f.agendaDay=la,g({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery);